<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../d2l-button/d2l-button-behavior.html">
<link rel="import" href="../d2l-polymer-behaviors/d2l-focusable-behavior.html">
<link rel="import" href="d2l-navigation-highlight-styles.html">
<link rel="import" href="../d2l-offscreen/d2l-offscreen-shared-styles.html">

<!--
`d2l-navigation-button`
Polymer-based web component for buttons used in the navigational header.

@demo demo/d2l-navigation-button.html d2l-navigation-button
-->

<dom-module id="d2l-navigation-button">
	<template strip-whitespace>
		<style is="custom-style" include="d2l-navigation-highlight-styles">
			:host([disabled]) button {
				@apply --d2l-navigation-highlight-disabled;
			}
			:host(:not([disabled])) button:hover,
			:host(:not([disabled])) button:focus,
			/* ::slotted styles for Polymer 2.0 */
			:host(:not([disabled])) button:hover ::slotted(*),
			:host(:not([disabled])) button:focus ::slotted(*)
			{
				@apply --d2l-navigation-highlight-base-hover-focus;
			}
			/*
				::slotted styles for Polymer 1.0; styling all slotted children needs
				to be applied explicitely.
				This cannot be combined with the style block above, as this is not
				valid in 2.0 and as such the entire block gets ignored.
			*/
			:host(:not([disabled])) button:hover ::slotted(*) *,
			:host(:not([disabled])) button:focus ::slotted(*) *
			{
				@apply --d2l-navigation-highlight-base-hover-focus;
			}
			:host(:not([disabled])) button:hover .d2l-navigation-button-top-border,
			:host(:not([disabled])) button:focus .d2l-navigation-button-top-border {
				@apply --d2l-navigation-highlight-border-hover-focus;
			}
			button {
				@apply --d2l-navigation-highlight-base;
				font-family: inherit;
			}
			.d2l-navigation-button-top-border {
				@apply --d2l-navigation-highlight-border;
			}
			.d2l-offscreen-description {
				@apply --d2l-offscreen;
			}
			:host-context([dir="rtl"]) .d2l-offscreen-description,
			:host(:dir(rtl)) .d2l-offscreen-description {
				@apply --d2l-offscreen-rtl;
			}
		</style>
		<button
			aria-describedby="aria-description"
			aria-expanded$="[[ariaExpanded]]"
			aria-haspopup$="[[ariaHaspopup]]"
			aria-label$="[[text]]"
			class="d2l-focusable"
			disabled$=[[disabled]]
			autofocus$=[[autofocus]]
			form$=[[form]]
			formaction$=[[formaction]]
			formenctype$=[[formenctype]]
			formmethod$=[[formmethod]]
			formnovalidate$=[[formnovalidate]]
			formtarget$=[[formtarget]]
			name$=[[name]]
			title$=[[text]]
			type$=[[type]]>
			<span class="d2l-navigation-button-top-border"></span>
			<slot></slot>
		</button>
		<span id="aria-description" class="d2l-offscreen-description">[[ariaDescribedbyText]]</span>
	</template>
	<script>
		Polymer({
			is: 'd2l-navigation-button',
			properties: {
				text: {
					type: String,
					reflectToAttribute: true
				},
				ariaDescribedbyText: {
					type: String
				}
			},
			behaviors: [
				D2L.PolymerBehaviors.Button.Behavior,
				D2L.PolymerBehaviors.FocusableBehavior
			]
		});
	</script>
</dom-module>
