<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../d2l-colors/d2l-colors.html">
<link rel="import" href="./d2l-navigation-link.html">
<link rel="import" href="../d2l-icons/d2l-icon.html">
<link rel="import" href="../d2l-icons/tier1-icons.html">
<link rel="import" href="../d2l-polymer-behaviors/d2l-focusable-behavior.html">
<link rel="import" href="../d2l-localize-behavior/d2l-localize-behavior.html">

<!--
`d2l-navigation-link-back`
Polymer-based web component for the back button used in the navigational header.

@demo demo/d2l-navigation-button.html d2l-navigation-link-back
-->

<dom-module id="d2l-navigation-link-back">
	<template strip-whitespace>
		<style>
			:host {
				display: inline-block;
				height: 100%;
			}
			d2l-icon {
				color: inherit;
			}
			.d2l-navigation-link-back-text {
				padding-left: var(--d2l-navigation-link-back-left-padding, 5px);
			}
			:host-context([dir="rtl"]) .d2l-navigation-link-back-text,
			:host(:dir(rtl)) .d2l-navigation-link-back-text {
				padding-left: 0;
				padding-right: var(--d2l-navigation-link-back-left-padding, 5px);
			}
			span, d2l-icon {
				vertical-align: middle;
				height: 100%;
			}
		</style>
		<d2l-navigation-link href="[[href]]" class="d2l-focusable" text="[[_getDisplayText(text, localize)]]">
			<d2l-icon icon="d2l-tier1:chevron-left"></d2l-icon>
			<span class="d2l-navigation-link-back-text">[[_getDisplayText(text, localize)]]</span>
		</d2l-navigation-link>
	</template>
	<script>
		Polymer({
			is: 'd2l-navigation-link-back',
			properties: {
				text: {
					type: String,
					value: null
				},
				href: {
					type: String
				},
				resources: {
					value: function() {
						return {
							'ar': { 'back': 'العودة' },
							'de': { 'back': 'Zurück' },
							'en': { 'back': 'Back' },
							'es': { 'back': 'Volver' },
							'fr': { 'back': 'Précédent' },
							'ja': { 'back': '戻る' },
							'ko': { 'back': '뒤로' },
							'nl': { 'back': 'Terug' },
							'pt': { 'back': 'Voltar' },
							'sv': { 'back': 'Tillbaka' },
							'tr': { 'back': 'Geri' },
							'zh': { 'back': '返回' },
							'zh-TW': { 'back': '返回' }
						};
					}
				}
			},
			_getDisplayText: function(text, localize) {
				if (text === undefined || text === null) {
					return localize('back');
				}
				return text;
			},
			behaviors: [
				D2L.PolymerBehaviors.Link.Behavior,
				D2L.PolymerBehaviors.FocusableBehavior,
				D2L.PolymerBehaviors.LocalizeBehavior
			]
		});
	</script>

</dom-module>
