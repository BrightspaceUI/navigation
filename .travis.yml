language: node_js
node_js: node
addons:
  chrome: stable
script:
- npm run lint
- |
  if [ $TRAVIS_PULL_REQUEST != false ] && [ $TRAVIS_SECURE_ENV_VARS == true ]; then
    echo "Pull request with secure environment variables, running Sauce tests...";
    npm run test:polymer:sauce || travis_terminate 1;
  else
    echo "Not a pull request and/or no secure environment variables, running headless tests...";
    npm run test:polymer:local || travis_terminate 1;
  fi
env:
  global:
  - SAUCE_USERNAME: Desire2Learn
  - secure: j7N5Mth+AY+MObVwsysDBWs8musd84uAcynODmnm3MmDin0yrG0HY63FBh9vKSqyOeu/pR4r6hcvMiQfybE37NK0HeeENMvanEAIIdqCdGPNGLU3OTu1W/Tci9XEVV9NdFDeZuVTU8+d1IaHPAMOPeWDBka3mNe1un9KSaiPSTyktIjxboR1k3mQ2ESUAyu5qW0UGeUQzWywNYZ1a6KbrpjhdjcSJ/kxwg4EDgsLZeI7QTQtx+jKDZPiCYH5b237dp0+to7kMMHmw37AQRnxfOayT7AhRKcgJh6snX3FgqdaOpgk0iZ/xldIqWBSPc7HEm/ZvLqq51kxUSdE4PCAiunARxo7GBnOXlYd9pGYYnFsn9vQrnPvp3WK1dGdCIQmDOq09z2C9Jh0End/xjB2lky7+FYK8g5tqxoz6gsHI80FHtY2uWwLo6MNGk38//9c980Q+XpK8G+qEZ+gfx8QnGsMg5Yl7NoXwEiJ9FmaQ2vRsybnCA/9OTHnPXWG3o1d4yNhVRRGUSnzUtuBJXPxmHhUxrVrYkYE/7pMmZjtkQH9P11uYcLXZsKaXlDd+m7yfY7rQXXZFslVuKS7LWcLWrbW3BHg0NwxrVrqi5NsttdU8vDlWgS3j1q+2tH5AgfRHn6T6aymXz/Vhv4pN7AVslu6I1Pdf6souyb56RUg/8o=
