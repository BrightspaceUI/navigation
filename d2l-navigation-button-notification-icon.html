<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../d2l-colors/d2l-colors.html">
<link rel="import" href="./d2l-navigation-button.html">
<link rel="import" href="../d2l-icons/d2l-icon.html">
<link rel="import" href="../d2l-icons/tier2-icons.html">
<link rel="import" href="../d2l-button/d2l-button-behavior.html">
<link rel="import" href="../d2l-polymer-behaviors/d2l-focusable-behavior.html">

<!--
`d2l-navigation-button-notification-icon`
Polymer-based web component for buttons used in the navigational header.
This button contains a user-supplied icon, as well as a notification marker.

@demo demo/d2l-navigation-button.html d2l-navigation-button-notification-icon
-->

<dom-module id="d2l-navigation-button-notification-icon">
	<template strip-whitespace>
		<style>
			:host {
				display: inline-block;
				height: 100%;
			}
			:host([notification]) .d2l-navigation-button-notification-indicator {
				display: inline-block;
			}
			.d2l-navigation-button-icon-container {
				display: inline-block;
				position: relative;
			}
			.d2l-navigation-button-notification-indicator {
				display: none;
				height: 100%;
				position: absolute;
				right: calc(-50% + 4px);
				top: calc(-50% + 4px);
				width: 100%;
			}
			.d2l-navigation-button-notification-indicator-icon {
				fill: var(--d2l-color-primary-accent-indicator);
				height: 100%;
				width: 100%;
			}
			.d2l-navigation-button-notification-indicator-text {
				height: 1px;
				left: -10000px;
				overflow: hidden;
				position: absolute;
				width: 1px;
				word-wrap: normal;
			}
		</style>
		<d2l-navigation-button
			aria-expanded$="[[ariaExpanded]]"
			aria-haspopup$="[[ariaHaspopup]]"
			aria-label$="[[ariaLabel]]"
			disabled$=[[disabled]]
			autofocus$=[[autofocus]]
			form$=[[form]]
			formaction$=[[formaction]]
			formenctype$=[[formenctype]]
			formmethod$=[[formmethod]]
			formnovalidate$=[[formnovalidate]]
			formtarget$=[[formtarget]]
			name$=[[name]]
			text=[[text]]
			type$=[[type]]>
			<span class="d2l-navigation-button-icon-container">
				<d2l-icon icon="[[icon]]" class="d2l-navigation-button-icon"></d2l-icon>
				<span class="d2l-navigation-button-notification-indicator">
					<d2l-icon class="d2l-navigation-button-notification-indicator-icon" icon="d2l-tier2:dot"></d2l-icon>
					<span class="d2l-navigation-button-notification-indicator-text">[[notificationText]]</span>
				</span>
			</span>
		</d2l-navigation-button>
	</template>
	<script>
		Polymer({
			is: 'd2l-navigation-button-notification-icon',
			properties: {
				icon: {
					type: String
				},
				notification: {
					type: Boolean,
					reflectToAttribute: true
				},
				text: {
					type: String
				},
				notificationText: {
					type: String
				}
			},
			behaviors: [
				D2L.PolymerBehaviors.Button.Behavior,
				D2L.PolymerBehaviors.FocusableBehavior
			]
		});
	</script>
</dom-module>